<ion-view view-title="PRODUTOS">
  <ion-content>
    <ion-refresher pulling-text="Deslize para actualizar..." on-refresh="refreshProducts(false)">
    </ion-refresher>
    <ion-list>
      <ion-item class="row" collection-repeat="item in products | filter:productSearch | orderBy:'name'" ng-click="viewProduct(item.id)" item-render-buffer="10">
        <div class="col col-67">
          <p class="wrap">{{item.name}}</p>
        </div>
        <div class="col">
          <button class="button button-small button-block button-outline" ng-class="(item.stock > 0 && 'button-balanced') || 'button-assertive'">{{item.average | currency:"â‚¬"}}/{{item.units}}</button>
        </div>
      </ion-item>
    </ion-list>
  </ion-content>
  <div class="bar bar-footer item-input-inset footer-item-input-insert">
    <label class="item-input-wrapper">
      <i class="icon ion-search placeholder-icon"></i>
      <input type="search" placeholder="Pesquisar" ng-model="productSearch.$">
    </label>
  </div>
</ion-view>