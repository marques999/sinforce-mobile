<ion-view view-title="FICHA DE LEAD" ng-init="initView()">
  <ion-content>
    <div id="profile-info">
      <img id="profile-image" src="img/avatar_720-vflYJnzBZ.png">
      <h3 id="profile-name">{{lead.name}}</h3>
      <span id="profile-description">{{leadTypes[lead.thirdPartyType]}}</span>
      <div id="profile-buttons">
        <a ng-click="updatelead()" class="button button-small button-dark">Editar</a>
        <a ng-click="deletelead()" class="button button-small button-assertive">Apagar</a>
      </div>
    </div>
    <ion-item class="item-dark item-divider">
      <span>INFORMAÇÕES GERAIS</span>
    </ion-item>
    <ion-item class="row">
      <div class="col">
        <strong>Nº Contribuinte</strong>
      </div>
      <div class="col text-right">
        <span>{{lead.numCont || 'N/A'}}</span>
      </div>
    </ion-item>
    <ion-item class="item-dark item-divider">
      <span>LOCALIZAÇÃO</span>
    </ion-item>
    <ion-item class="row">
      <div class="col">
        <strong>Morada</strong>
      </div>
      <div class="col text-right">
        <span>{{lead.location.address || "N/A"}}</span>
      </div>
    </ion-item>
    <ion-item class="row">
      <div class="col">
        <strong>Localidade</strong>
      </div>
      <div class="col text-right">
        <span>{{lead.location.postal || "N/A"}}</span>
      </div>
    </ion-item>
    <ion-item class="row">
      <div class="col">
        <strong>Concelho</strong>
      </div>
      <div class="col text-right">
        <span>{{lead.location.parish || "N/A"}}</span>
      </div>
    </ion-item>
    <ion-item class="row">
      <div class="col">
        <strong>Distrito</strong>
      </div>
      <div class="col text-right">
        <span>{{lead.location.state || "N/A"}}</span>
      </div>
    </ion-item>
    <ion-item class="row">
      <div class="col">
        <strong>País</strong>
      </div>
      <div class="col text-right">
        <span>{{(lead.location.country | isoCountry) || "N/A"}}</span>
      </div>
    </ion-item>
    <ion-item class="item-dark item-divider">
      <span>CONTACTOS</span>
    </ion-item>
    <ion-item class="row">
      <div class="col col-50">
        <strong>Telemóvel</strong>
      </div>
      <div class="col text-right">
        <a ng-if="lead.mobile" href="tel:{{lead.mobile}}" class="button button-small button-outline button-positive">
          <i class="icon ion-ios-telephone-outline"></i>
          <span>{{lead.mobile}}</span>
        </a>
        <span ng-if="!lead.mobile">N/A</span>
      </div>
    </ion-item>
    <ion-item class="row">
      <div class="col col-50">
        <strong>Telefone</strong>
      </div>
      <div class="col text-right">
        <a ng-if="lead.phone" href="tel:{{lead.phone}}" class="button button-small button-outline button-balanced">
          <i class="icon ion-ios-home-outline"></i>
          <span>{{lead.phone}}</span>
        </a>
        <span ng-if="!lead.phone">N/A</span>
      </div>
    </ion-item>
    <ion-item class="row">
      <div class="col col-50">
        <strong>Telefone 2</strong>
      </div>
      <div class="col text-right">
        <a ng-if="lead.phone2" href="tel:{{lead.phone2}}" class="button button-small button-outline button-balanced">
          <i class="icon ion-ios-home-outline"></i>
          <span>{{lead.phone2}}</span>
        </a>
        <span ng-if="!lead.phone2">N/A</span>
      </div>
    </ion-item>
    <ion-item class="row">
      <div class="col col-33">
        <strong>E-mail</strong>
      </div>
      <div class="col text-right">
        <button ng-if="lead.email" ng-click="sendEmail(lead.email)" class="button button-small button-outline button-positive">
          <i class="icon ion-ios-email-outline"></i>
          <span>{{lead.email}}</span>
        </button>
        <span ng-if="!lead.email">N/A</span>
      </div>
    </ion-item>
    <ion-item class="item-dark item-divider">
      <span>ADMINISTRAÇÃO</span>
    </ion-item>
    <ion-item class="row">
      <div class="col">
        <strong>Criado por</strong>
      </div>
      <div class="col text-right">
        <span>{{lead.owner.name || 'Administrador'}}</span>
      </div>
    </ion-item>
    <ion-item class="row">
      <div class="col">
        <strong>Criado em</strong>
      </div>
      <div class="col text-right">
        <span>{{(lead.dateCreated | defaultdate) || 'N/A'}}</span>
      </div>
    </ion-item>
    <ion-item class="row">
      <div class="col">
        <strong>Última actualização</strong>
      </div>
      <div class="col text-right">
        <span>{{(lead.dateModified | defaultdate) || 'N/A'}}</span>
      </div>
    </ion-item>
  </ion-content>
</ion-view>