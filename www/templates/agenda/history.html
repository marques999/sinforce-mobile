<ion-view view-title="HISTÃ“RICO">
  <ion-content>
    <ion-refresher pulling-text="Deslize para actualizar..." on-refresh="refreshAgenda(false)">
    </ion-refresher>
    <ion-list ng-repeat="(letter, value) in history | filter: activitySearch | orderBy: 'name' | groupBy: 'name[0].toUpperCase()'">
      <ion-item class="item-divider">{{letter}}</ion-item>
      <ion-item ng-repeat="item in value" ng-click="viewActivity(item.id)">
        <span>{{item.name}}</span>
        <div ng-class="getStatusColor(item)">
          <strong>{{getStatusDescription(item)}} @</strong>
          <span>{{getStatusDate(item) | defaultdate}}</span>
        </div>
        <ion-option-button ng-click="deleteActivity(item.id)" class="button-assertive">Cancelar</ion-option-button>
        <ion-option-button ng-click="updateActivity(item.id)" class="button-royal">Editar</ion-option-button>
      </ion-item>
    </ion-list>
  </ion-content>
  <div class="bar bar-footer item-input-inset footer-item-input-insert">
    <label class="item-input-wrapper">
      <i class="icon ion-search placeholder-icon"></i>
      <input type="search" placeholder="Pesquisar" ng-model="activitySearch.name">
    </label>
  </div>
</ion-view>